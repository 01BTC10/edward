<!doctype html>
<html>
    <head>
        <title>Edward</title>
        <link rel="stylesheet" href="/style.css">
    </head>
    <body>
        <div class="edit" data-name="js-edit"></div>
        <script src="/edward/edward.js"></script>
        <script>
            (function() {
                'use strict';
                
                window.addEventListener('DOMContentLoaded', function domLoad() {
                    edward('[data-name="js-edit"]', function(el) {
                        el.style.fontFamily = 'Droid Sans Mono';
                        el.style.fontSize   = '16px';
                        
                        addCommands();
                    });
                    
                    function addCommands() {
                        edward.addCommand({
                            name    : 'goToLine',
                            bindKey : { win: 'Ctrl-G',  mac: 'Command-G' },
                            exec    : function () {
                                edward.goToLine();
                            }
                        });
                        
                        edward.addCommand({
                            name    : 'save',
                            bindKey : { win: 'Ctrl-S',  mac: 'Command-S' },
                            exec    : function() {
                                edward.save();
                            }
                        });
                        
                        edward.addCommand({
                            name    : 'saveMC',
                            bindKey : { win: 'F2',  mac: 'F2' },
                            exec    : function() {
                                edward.save();
                            }
                        });
                        
                        edward.addCommand({
                            name    : 'beautify',
                            bindKey : { win: 'Ctrl-B',  mac: 'Command-B' },
                            exec    : function() {
                                edward.beautify();
                            }
                        });
                        
                        edward.addCommand({
                            name    : 'minify',
                            bindKey : { win: 'Ctrl-M',  mac: 'Command-M' },
                            exec    : function() {
                                edward.minify();
                            }
                        });
                    }
                    
                    window.removeEventListener('DOMContentLoaded', domLoad);
                });
            })()
        </script>
    </body>
</html>
